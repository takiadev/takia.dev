<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="How to leverage powerful textobjects and navigate between them to define better motions."><title>Better motions in vim</title>
<link rel=canonical href=https://takia.dev/nvim-better-motions/><link rel=stylesheet href=/scss/style.min.0304c6baf04e01a8fe70693791cb744d56a3578a3120a8796cefc66825aa39c7.css><meta property='og:title' content="Better motions in vim"><meta property='og:description' content="How to leverage powerful textobjects and navigate between them to define better motions."><meta property='og:url' content='https://takia.dev/nvim-better-motions/'><meta property='og:site_name' content='Takia Dev'><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:published_time' content='2024-09-20T01:00:00+00:00'><meta property='article:modified_time' content='2024-09-20T01:00:00+00:00'><meta name=twitter:title content="Better motions in vim"><meta name=twitter:description content="How to leverage powerful textobjects and navigate between them to define better motions."><link rel="shortcut icon" href=/favicon.png></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hu16108643881346092861.png width=300 height=300 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>üñ•Ô∏è</span></figure><div class=site-meta><h1 class=site-name><a href=/>Takia Dev</a></h1><h2 class=site-description>Coding tips and tutorials.</h2></div></header><ol class=menu-social><li><a href=https://github.com/takiadev target=_blank title=GitHub rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=https://youtube.com/@takiadev target=_blank title=YouTube rel=me><svg class="icon icon-tabler icon-tabler-brand-twitter" height="64" width="64" viewBox="-46.1 -46.1 553.2 553.2" stroke-width="35" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><g stroke-linecap="round" stroke-linejoin="round" stroke-width="30"><path d="M365.257 67.393H95.744C42.866 67.393.0 110.259.0 163.137v134.728c0 52.878 42.866 95.744 95.744 95.744h269.513c52.878.0 95.744-42.866 95.744-95.744V163.137c0-52.878-42.866-95.744-95.744-95.744zM300.506 237.056l-126.06 60.123c-3.359 1.602-7.239-.847-7.239-4.568V168.607c0-3.774 3.982-6.22 7.348-4.514l126.06 63.881C304.363 229.873 304.298 235.248 300.506 237.056z"/></g></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span></a></li><li><a href=/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>Dark Mode</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Table of contents</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#powerful-textobjects>Powerful textobjects</a></li><li><a href=#powerful-motions>Powerful motions</a></li></ol></nav></div></section></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><header class=article-category><a href=/categories/neovim/>Neovim</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/nvim-better-motions/>Better motions in vim</a></h2><h3 class=article-subtitle>How to leverage powerful textobjects and navigate between them to define better motions.</h3></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>Sep 20, 2024</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>3 minute read</time></div></footer></div></header><section class=article-content><p>In vim (and neovim), textobjects and motions are naturally linked, for instance in normal mode <code>w</code> move to the next start of a word, while in operator pending mode <code>w</code> denotes the word object, allowing <code>viw</code> to select inside the word, and <code>vaw</code> to select around the word.</p><p>Other builting objects include <code>p</code> (a paragraph), <code>{</code> (a matching pair of braces) or <code>"</code> (a matching pair of quotes).</p><p>You can get more information on the builtin textobjects with:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>:help text-objects 
</span></span></code></pre></td></tr></table></div></div><h2 id=powerful-textobjects>Powerful textobjects</h2><p>More powerful objects can be defined with the <a class=link href=https://github.com/echasnovski/mini.ai target=_blank rel=noopener>mini.ai</a> plugin. This plugin allows using regexes, custom object definitions or even the syntax tree of your programming language to define smart objects. For instance, the following line uses the syntax tree to define a function definition object:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-lua data-lang=lua><span class=line><span class=cl><span class=n>custom_textobjects</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>f</span> <span class=o>=</span> <span class=n>ai.gen_spec</span><span class=p>.</span><span class=n>treesitter</span><span class=p>({</span> 
</span></span><span class=line><span class=cl>    <span class=n>a</span> <span class=o>=</span> <span class=s2>&#34;@function.outer&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=n>i</span> <span class=o>=</span> <span class=s2>&#34;@function.outer&#34;</span> <span class=p>})</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>This code block defines a new textobject <code>f</code> that selects a function definition: <code>vaf</code> to select around it, and <code>vif</code> to select inside it.</p><h2 id=powerful-motions>Powerful motions</h2><p>As of today, mini.ai does not provide a configuration option to define powerful motions to jump to the next/previous text object like <code>w</code> in normal mode would. But we can define these motions ourselves.</p><p>Mini.ai does expose a lua function to move the cursor the the next/last start/end of a textobject:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-lua data-lang=lua><span class=line><span class=cl><span class=c1>-- &#34;left&#34; or &#34;right&#34;</span>
</span></span><span class=line><span class=cl><span class=kd>local</span> <span class=n>direction</span> <span class=o>=</span> <span class=s2>&#34;left&#34;</span> 
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>-- &#34;a&#34; for around and &#34;i&#34; for inside</span>
</span></span><span class=line><span class=cl><span class=kd>local</span> <span class=n>ai</span> <span class=o>=</span> <span class=s2>&#34;a&#34;</span> 
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>-- the name of your textobject,</span>
</span></span><span class=line><span class=cl><span class=c1>-- here &#34;f&#34; for function as defined above</span>
</span></span><span class=line><span class=cl><span class=kd>local</span> <span class=n>k</span> <span class=o>=</span> <span class=s2>&#34;f&#34;</span> 
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>-- &#34;next&#34;, &#34;cover_or_next&#34;, &#34;prev&#34;, &#34;cover_or_prev&#34;</span>
</span></span><span class=line><span class=cl><span class=kd>local</span> <span class=n>method</span> <span class=o>=</span> <span class=s2>&#34;next&#34;</span> 
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>MiniAi.move_cursor</span><span class=p>(</span><span class=n>direction</span><span class=p>,</span> <span class=n>ai</span><span class=p>,</span> <span class=n>k</span><span class=p>,</span> <span class=p>{</span><span class=n>search_method</span><span class=o>=</span><span class=n>method</span><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>We can leverage this function to define a motion grammar:</p><p>Let&rsquo;s say for instance that we repurpose the keys <code>n</code> and <code>p</code> as our main motion operators:</p><ul><li><code>n</code>: go to next start</li><li><code>p</code>: go to prev start</li><li><code>ne</code>: go to next end</li><li><code>pe</code>: go to prev end</li><li><code>ni</code>: go to next start (inside)</li><li><code>pi</code>: go to prev start (inside)</li></ul><p>First we retain the original behavior of <code>n</code> and <code>p</code> as follows:</p><ul><li><code>nm</code>: go to next search match</li><li><code>pm</code>: go to prev search match</li></ul><p>We can define the following mappins to move to the next/prev start/end of a function:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-lua data-lang=lua><span class=line><span class=cl><span class=c1>-- nf: to next function (around)</span>
</span></span><span class=line><span class=cl><span class=n>vim.keymap</span><span class=p>.</span><span class=n>set</span><span class=p>({</span><span class=s2>&#34;n&#34;</span><span class=p>,</span> <span class=s2>&#34;x&#34;</span><span class=p>,</span> <span class=s2>&#34;o&#34;</span><span class=p>},</span> <span class=s2>&#34;nf&#34;</span><span class=p>,</span> <span class=kr>function</span><span class=p>()</span> 
</span></span><span class=line><span class=cl>    <span class=kr>return</span> <span class=n>MiniAi.move_cursor</span><span class=p>(</span><span class=s2>&#34;left&#34;</span><span class=p>,</span> <span class=s2>&#34;a&#34;</span><span class=p>,</span> <span class=n>k</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=p>{</span><span class=n>search_method</span><span class=o>=</span><span class=s2>&#34;next&#34;</span><span class=p>})</span>
</span></span><span class=line><span class=cl><span class=kr>end</span><span class=p>,</span> <span class=p>{</span><span class=n>silent</span><span class=o>=</span><span class=kc>true</span><span class=p>})</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>-- nef: to end of next function (around)</span>
</span></span><span class=line><span class=cl><span class=n>vim.keymap</span><span class=p>.</span><span class=n>set</span><span class=p>({</span><span class=s2>&#34;n&#34;</span><span class=p>,</span> <span class=s2>&#34;x&#34;</span><span class=p>,</span> <span class=s2>&#34;o&#34;</span><span class=p>},</span> <span class=s2>&#34;nef&#34;</span><span class=p>,</span> <span class=kr>function</span><span class=p>()</span> 
</span></span><span class=line><span class=cl>    <span class=kr>return</span> <span class=n>MiniAi.move_cursor</span><span class=p>(</span><span class=s2>&#34;right&#34;</span><span class=p>,</span> <span class=s2>&#34;a&#34;</span><span class=p>,</span> <span class=n>k</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=p>{</span><span class=n>search_method</span><span class=o>=</span><span class=s2>&#34;cover_or_next&#34;</span><span class=p>})</span>
</span></span><span class=line><span class=cl><span class=kr>end</span><span class=p>,</span> <span class=p>{</span><span class=n>silent</span><span class=o>=</span><span class=kc>true</span><span class=p>})</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>-- nif: to next function (inside)</span>
</span></span><span class=line><span class=cl><span class=n>vim.keymap</span><span class=p>.</span><span class=n>set</span><span class=p>({</span><span class=s2>&#34;n&#34;</span><span class=p>,</span> <span class=s2>&#34;x&#34;</span><span class=p>,</span> <span class=s2>&#34;o&#34;</span><span class=p>},</span> <span class=s2>&#34;nif&#34;</span><span class=p>,</span> <span class=kr>function</span><span class=p>()</span> 
</span></span><span class=line><span class=cl>    <span class=kr>return</span> <span class=n>MiniAi.move_cursor</span><span class=p>(</span><span class=s2>&#34;left&#34;</span><span class=p>,</span> <span class=s2>&#34;i&#34;</span><span class=p>,</span> <span class=n>k</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=p>{</span><span class=n>search_method</span><span class=o>=</span><span class=s2>&#34;next&#34;</span><span class=p>})</span>
</span></span><span class=line><span class=cl><span class=kr>end</span><span class=p>,</span> <span class=p>{</span><span class=n>silent</span><span class=o>=</span><span class=kc>true</span><span class=p>})</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>-- neif: to end of function (inside)</span>
</span></span><span class=line><span class=cl><span class=n>vim.keymap</span><span class=p>.</span><span class=n>set</span><span class=p>({</span><span class=s2>&#34;n&#34;</span><span class=p>,</span> <span class=s2>&#34;x&#34;</span><span class=p>,</span> <span class=s2>&#34;o&#34;</span><span class=p>},</span> <span class=s2>&#34;neif&#34;</span><span class=p>,</span> <span class=kr>function</span><span class=p>()</span> 
</span></span><span class=line><span class=cl>    <span class=kr>return</span> <span class=n>MiniAi.move_cursor</span><span class=p>(</span><span class=s2>&#34;right&#34;</span><span class=p>,</span> <span class=s2>&#34;i&#34;</span><span class=p>,</span> <span class=n>k</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=p>{</span><span class=n>search_method</span><span class=o>=</span><span class=s2>&#34;cover_or_next&#34;</span><span class=p>})</span>
</span></span><span class=line><span class=cl><span class=kr>end</span><span class=p>,</span> <span class=p>{</span><span class=n>silent</span><span class=o>=</span><span class=kc>true</span><span class=p>})</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>-- pf: to prev function (around)</span>
</span></span><span class=line><span class=cl><span class=n>vim.keymap</span><span class=p>.</span><span class=n>set</span><span class=p>({</span><span class=s2>&#34;n&#34;</span><span class=p>,</span> <span class=s2>&#34;x&#34;</span><span class=p>,</span> <span class=s2>&#34;o&#34;</span><span class=p>},</span> <span class=s2>&#34;pf&#34;</span><span class=p>,</span> <span class=kr>function</span><span class=p>()</span> 
</span></span><span class=line><span class=cl>    <span class=kr>return</span> <span class=n>MiniAi.move_cursor</span><span class=p>(</span><span class=s2>&#34;left&#34;</span><span class=p>,</span> <span class=s2>&#34;a&#34;</span><span class=p>,</span> <span class=n>k</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=p>{</span><span class=n>search_method</span><span class=o>=</span><span class=s2>&#34;cover_or_prev&#34;</span><span class=p>})</span>
</span></span><span class=line><span class=cl><span class=kr>end</span><span class=p>,</span> <span class=p>{</span><span class=n>silent</span><span class=o>=</span><span class=kc>true</span><span class=p>})</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>-- pef: to end of prev function (around)</span>
</span></span><span class=line><span class=cl><span class=n>vim.keymap</span><span class=p>.</span><span class=n>set</span><span class=p>({</span><span class=s2>&#34;n&#34;</span><span class=p>,</span> <span class=s2>&#34;x&#34;</span><span class=p>,</span> <span class=s2>&#34;o&#34;</span><span class=p>},</span> <span class=s2>&#34;pef&#34;</span><span class=p>,</span> <span class=kr>function</span><span class=p>()</span> 
</span></span><span class=line><span class=cl>    <span class=kr>return</span> <span class=n>MiniAi.move_cursor</span><span class=p>(</span><span class=s2>&#34;right&#34;</span><span class=p>,</span> <span class=s2>&#34;a&#34;</span><span class=p>,</span> <span class=n>k</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=p>{</span><span class=n>search_method</span><span class=o>=</span><span class=s2>&#34;prev&#34;</span><span class=p>})</span>
</span></span><span class=line><span class=cl><span class=kr>end</span><span class=p>,</span> <span class=p>{</span><span class=n>silent</span><span class=o>=</span><span class=kc>true</span><span class=p>})</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>-- pif: to prev function (inside)</span>
</span></span><span class=line><span class=cl><span class=n>vim.keymap</span><span class=p>.</span><span class=n>set</span><span class=p>({</span><span class=s2>&#34;n&#34;</span><span class=p>,</span> <span class=s2>&#34;x&#34;</span><span class=p>,</span> <span class=s2>&#34;o&#34;</span><span class=p>},</span> <span class=s2>&#34;pif&#34;</span><span class=p>,</span> <span class=kr>function</span><span class=p>()</span> 
</span></span><span class=line><span class=cl>    <span class=kr>return</span> <span class=n>MiniAi.move_cursor</span><span class=p>(</span><span class=s2>&#34;left&#34;</span><span class=p>,</span> <span class=s2>&#34;i&#34;</span><span class=p>,</span> <span class=n>k</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=p>{</span><span class=n>search_method</span><span class=o>=</span><span class=s2>&#34;cover_or_prev&#34;</span><span class=p>})</span>
</span></span><span class=line><span class=cl><span class=kr>end</span><span class=p>,</span> <span class=p>{</span><span class=n>silent</span><span class=o>=</span><span class=kc>true</span><span class=p>})</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>-- peif: to end of prev function (inside)</span>
</span></span><span class=line><span class=cl><span class=n>vim.keymap</span><span class=p>.</span><span class=n>set</span><span class=p>({</span><span class=s2>&#34;n&#34;</span><span class=p>,</span> <span class=s2>&#34;x&#34;</span><span class=p>,</span> <span class=s2>&#34;o&#34;</span><span class=p>},</span> <span class=s2>&#34;peif&#34;</span><span class=p>,</span> <span class=kr>function</span><span class=p>()</span> 
</span></span><span class=line><span class=cl>    <span class=kr>return</span> <span class=n>MiniAi.move_cursor</span><span class=p>(</span><span class=s2>&#34;right&#34;</span><span class=p>,</span> <span class=s2>&#34;i&#34;</span><span class=p>,</span> <span class=n>k</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=p>{</span><span class=n>search_method</span><span class=o>=</span><span class=s2>&#34;prev&#34;</span><span class=p>})</span>
</span></span><span class=line><span class=cl><span class=kr>end</span><span class=p>,</span> <span class=p>{</span><span class=n>silent</span><span class=o>=</span><span class=kc>true</span><span class=p>})</span>
</span></span></code></pre></td></tr></table></div></div><p>I have opened a <a class=link href=https://github.com/echasnovski/mini.nvim/issues/1236 target=_blank rel=noopener>feature request</a> to merge these motions inside mini.ai.</p></section><footer class=article-footer><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>¬© 2020-2025 Takia.Dev</span></section><section class=article-lastmod><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<span>Last updated on Sep 20, 2024 01:00 UTC</span></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>Related content</h2><div class=related-content><div class="flex article-list--tile"><article><a href=/vim-better-n-n-keys/><div class=article-details><h2 class=article-title>Vim: boost the power of the n/N keys!</h2></div></a></article><article><a href=/neotest-golang-issues/><div class=article-details><h2 class=article-title>Neotest-Golang: Solving Test(s) not associated issue</h2></div></a></article><article><a href=/nvim-treesitter-windows-11/><div class=article-details><h2 class=article-title>How to install neovim treesitter on Windows 11</h2></div></a></article></div></div></aside><script src=https://utteranc.es/client.js repo=takiadev/comments issue-term=url crossorigin=anonymous async></script><style>.utterances{max-width:unset}</style><script>let utterancesLoaded=!1;function setUtterancesTheme(e){let t=document.querySelector(".utterances iframe");t&&t.contentWindow.postMessage({type:"set-theme",theme:`github-${e}`},"https://utteranc.es")}addEventListener("message",e=>{if(e.origin!=="https://utteranc.es")return;utterancesLoaded=!0,setUtterancesTheme(document.documentElement.dataset.scheme)}),window.addEventListener("onColorSchemeChange",e=>{if(!utterancesLoaded)return;setUtterancesTheme(e.detail)})</script><footer class=site-footer><section class=copyright>&copy;
2020 -
2024 Takia Dev</section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>